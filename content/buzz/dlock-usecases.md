Title: UseCases, моего Distributed Shared Lock
Slug: dlock-usecases
Date: 2010-12-03 21:13
Category: texts
Tags: distributed
Lang: ru

Описал UseCases, которые должен переживать мой Distributed Shared Lock.

Пока их 7:

1. Отключение узла когда он принимает prepare.
2. Отключение узла когда он отправляет accepted.
3. Подключение узла (чистого) к системе в которой уже есть несколько операций.
4. Одновременное добавление лока через разные ноды должно приводить только к одной успешной операции.
5. Одновременное добавление разных локов через разные ноды должно приводить только к одинаковым логам на каждом узле.
6. После временного отключения и последующего подключения узла, он должен узнавать о состоянии системы и пока не узнает, не должен принимать запросов и участия в процессе выбора.
7. Если большой кластер развалился на два, меньший, должен отдавать какой-нибудь подходящий HTTP код ошибки.

Осталось написать функциональные тесты и допилить реализацию.

