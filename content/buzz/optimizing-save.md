Title: Оптимизация save в Django
Slug: optimizing-save
Date: 2010-11-18 09:19
Category: texts
Tags: django
Lang: ru

Сейчас оптимизирую, значится, скрипт, использующий Django ORM, и никак не могу
понять, откуда в логе появляются строчки типа:

    SELECT (1) AS `a` FROM `app_model` WHERE `app_model`.`id` = 522510 LIMIT 1

Полез внутрь. Оказывается, при вызове метода save на объекте, только что
полученном из базы, джанга делает этот дополнительный запрос, чтобы проверить,
существует ли объект.

Так как я точно знаю, что он еще там, заменил на `MyModel.objects.filter(pk = 12342).update(...)`.

