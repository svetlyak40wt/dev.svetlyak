Title: Hy — Lisp для Python
Slug: hy
Date: 2014-10-01 11:00
Category: texts
Tags: python, lisp
Lang: ru

Нашел тут недавно такой интересный проект — <a href="http://docs.hylang.org/en/latest/">Hy</a>. Это такой лисп, который компилируется в абстрактное синтаксическое дерево (проще говоря, прямо в питон), и выполняется python интерпретатором.

Замечателен этот проект тем, что:

a) там, как и во многих лиспах, есть нормальные макросы;
б) у него полная интеграция с питоном.

Что это значит.

Макросы позволяют описывать абстракции и реализовывать DSL внутри lisp. Они могут более гибко работать с обрабатываемым кодом. Это не просто декоратор, которые позволяют функцию обернуть. Да и генерировать макросами можно не только функции, но и вообще произвольные  блоки кода.

Интеграция с питоном просто отличная. <code>Hy</code> может использовать любые модули, функции и классы, которые уже есть в питоне, а все функции и классы, написанные на <code>Hy</code>, можно использовать в обычных питоновских модулях. Благодаря расширению <code>sys.meta_path</code>, модули написанные на <code>Hy</code>, можно импортировать в обычные питоновские простым <code>import name_of_the_module</code>.

Есть только один минус у всего этого — проект сыроват, и встречаются косяки. Но какие-то небольшие модули, где наличие макросов и кодогенерации дало бы значительные преимущества, можно пробовать писать. Всё что нужно, это <code>pip install</code>, да <code>import hy</code>.

Да, мне тут в #Hy канале на freenode, накидали ссылок на проектики, написанные на `Hy`:

<ul>
<li>https://github.com/algernon/hydiomatic — статический анализатор программ, написанных на <code>Hy</code>;</li>
<li>https://github.com/tuturto/pyherc> — приключенческая игра типа Rogue;</li>
<li>https://github.com/nathanielksmith/prosaic — сервис, перерабатывающий прозу в стихи.</li>
</ul>